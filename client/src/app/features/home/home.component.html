<div class="homepage">
  <!-- 漫画描述模块 -->
  <section class="intro unified-section">
    <div class="intro-content">
      <div class="intro-text">
        <h1 class="title">I'm PanPan Bunny</h1>
        <div class="comic-info">
          <span><strong>Author:</strong> M.Zhai (gmy)</span>
          <span><strong>Status:</strong> Ongoing</span>
          <span><strong>Serialization Time:</strong> 2021 -</span>
        </div>
        <p class="description">
            "Who said all rabbits are cute and cuddly? Mine turned out to be a middle-aged buff guy!"<br>
            — A desperate cry from a rabbit owner.<br>
            In this crazy world fueled by imagination, animals have souls just like humans. <br>
            And sometimes, there's way more strength packed into those tiny bodies than you'd ever expect.<br>
        </p>
        <p class="description" style="color: #888;"><em>This comic was nominated for the 4-Panel Manga Award at the 2021 New Comics International Original Manga Competition.</em></p>
        <hr style="border: 1px dashed #ccc; margin: 10px 0;">
        
        <div class="button-group">
          <button class="cta-button" onclick="window.location.href='/buy-comic'">Buy Comic Book</button>
          <button class="cta-button secondary" onclick="window.location.href='/shop'">Go to Store</button>
        </div>
        
      </div>
      <div class="intro-image">
        <img src="/images/comics/comic_cover.jpg" alt="Comic Cover" class="comic-cover" />
      </div>
    </div>

  </section>


  <!-- 免费阅读模块 -->
  <section class="free-reading unified-section">
    <h2 class="section-title">Read for Free</h2>
    <div class="comic-preview unified-content">
      <div class="chapter-item" (click)="openModal(chapter1)">
        <img src="\images\comics\chater1_thumbnail.jpg" alt="Chapter 1: Wheel of Fate" />
        <p class="chapter-name">Chapter 1: Wheel of Fate</p>
      </div>
      <div class="chapter-item" (click)="openModal(chapter2)">
        <img src="\images\comics\chater2_thumbnail.jpg" alt="Chapter 2: Unusual Friends" />
        <p class="chapter-name">Chapter 2: Unusual Friends</p>
      </div>
      <div class="chapter-item" (click)="openModal(chapter3)">
        <img src="\images\comics\chater3_thumbnail.jpg" alt="Chapter 3: Cats Hold Grudges" />
        <p class="chapter-name">Chapter 3: Cats Hold Grudges</p>
      </div>
      <div class="chapter-item" (click)="openModal(chapter4)">
        <img src="\images\comics\chater4_thumbnail.jpg" alt="Chapter 4: Panpan's Wonderland" />
        <p class="chapter-name">Chapter 4: Panpan's Wonderland</p>
      </div>
    </div>
  </section>

  <!-- 最近更新模块 -->
  <section class="recent-updates unified-section">
    <h2 class="section-title">Recent Updates</h2>
    <div class="updates-list unified-content">
      <div class="update-item" (click)="openModal(recentUpdate)">
        <img src="\images\comics\easter2025.jpg" alt="Update 1" />
        <div class="update-info">
          <h3 class="update-title">Happy Easter 2025</h3>
          <p class="update-date">April 20, 2025</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Visit Shop 按钮 -->
  <div class="visit-shop">
    <button class="cta-button" onclick="window.location.href='/shop'">Visit Shop</button>
  </div>

  <!-- 模态窗口 -->
  <div class="modal" *ngIf="isModalOpen" (click)="closeModal()">
    <div class="modal-content" (click)="$event.stopPropagation()">
      <button class="close-button" (click)="closeModal()">×</button>
      <div class="chapter-pages">
        <div class="page-container" *ngFor="let page of currentChapterPages">
          <img [src]="page" alt="Content Page" />
        </div>
      </div>
      <div class="next-story-container" *ngIf="isChapter">
        <button class="next-story-button" (click)="goToNextStory()">Next Story</button>
      </div>
    </div>
  </div>
</div>